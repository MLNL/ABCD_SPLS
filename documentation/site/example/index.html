
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="ie=edge" http-equiv="x-ua-compatible"/>
<meta content="Copy to clipboard" name="lang:clipboard.copy"/>
<meta content="Copied to clipboard" name="lang:clipboard.copied"/>
<meta content="en" name="lang:search.language"/>
<meta content="True" name="lang:search.pipeline.stopwords"/>
<meta content="True" name="lang:search.pipeline.trimmer"/>
<meta content="No matching documents" name="lang:search.result.none"/>
<meta content="1 matching document" name="lang:search.result.one"/>
<meta content="# matching documents" name="lang:search.result.other"/>
<meta content="[\s\-]+" name="lang:search.tokenizer"/>
<link href="../assets/images/favicon.png" rel="shortcut icon"/>
<meta content="mkdocs-1.0.4, mkdocs-material-4.6.3" name="generator"/>
<title>Example - PLS/CCA Toolkit</title>
<link href="../assets/stylesheets/application.adb8469c.css" rel="stylesheet"/>
<link href="../assets/stylesheets/application-palette.a8b3c06d.css" rel="stylesheet"/>
<meta content="#009688" name="theme-color"/>
<script src="../assets/javascripts/modernizr.86422ebf.js"></script>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&amp;display=fallback" rel="stylesheet"/>
<style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
<link href="../assets/fonts/material-icons.css" rel="stylesheet"/>
</head>
<body data-md-color-accent="teal" data-md-color-primary="teal" dir="ltr">
<svg class="md-svg">
<defs>
<svg height="448" id="__github" viewbox="0 0 416 448" width="416" xmlns="http://www.w3.org/2000/svg"><path d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z" fill="currentColor"></path></svg>
</defs>
</svg>
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
<a class="md-skip" href="#basic-analysis" tabindex="0">
        Skip to content
      </a>
<header class="md-header" data-md-component="header">
<nav class="md-header-nav md-grid">
<div class="md-flex">
<div class="md-flex__cell md-flex__cell--shrink">
<a aria-label="PLS/CCA Toolkit" class="md-header-nav__button md-logo" href=".." title="PLS/CCA Toolkit">
<i class="md-icon"></i>
</a>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
</div>
<div class="md-flex__cell md-flex__cell--stretch">
<div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
<span class="md-header-nav__topic">
              PLS/CCA Toolkit
            </span>
<span class="md-header-nav__topic">
              
                Example
              
            </span>
</div>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="query" data-md-state="active" name="query" placeholder="Search" spellcheck="false" type="text"/>
<label class="md-icon md-search__icon" for="__search"></label>
<button class="md-icon md-search__icon" data-md-component="reset" tabindex="-1" type="reset">
        
      </button>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="result">
<div class="md-search-result__meta">
            Type to start searching
          </div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<div class="md-header-nav__source">
<a class="md-source" data-md-source="github" href="https://github.com/anaston/PLS_CCA_framework/" title="Go to repository">
<div class="md-source__icon">
<svg height="24" viewbox="0 0 24 24" width="24">
<use height="24" width="24" xlink:href="#__github"></use>
</svg>
</div>
<div class="md-source__repository">
    PLS_CCA_framework
  </div>
</a>
</div>
</div>
</div>
</nav>
</header>
<div class="md-container">
<main class="md-main" role="main">
<div class="md-main__inner md-grid" data-md-component="container">
<div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title md-nav__title--site" for="__drawer">
<a class="md-nav__button md-logo" href=".." title="PLS/CCA Toolkit">
<i class="md-icon"></i>
</a>
    PLS/CCA Toolkit
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-source="github" href="https://github.com/anaston/PLS_CCA_framework/" title="Go to repository">
<div class="md-source__icon">
<svg height="24" viewbox="0 0 24 24" width="24">
<use height="24" width="24" xlink:href="#__github"></use>
</svg>
</div>
<div class="md-source__repository">
    PLS_CCA_framework
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href=".." title="Home">
      Home
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../installation/" title="Installation">
      Installation
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../getting_started/" title="Getting Started">
      Getting Started
    </a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-toggle md-nav__toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
        Example
      </label>
<a class="md-nav__link md-nav__link--active" href="./" title="Example">
      Example
    </a>
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">Table of contents</label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#basic-analysis">
    Basic analysis
  </a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#project-folder">
    Project Folder
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#algorithm">
    Algorithm
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#environment">
    Environment
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#framework">
    Framework
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#deflation">
    Deflation
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#statistical-inference">
    Statistical Inference
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#run-analysis">
    Run Analysis
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#basic-plotting">
    Basic plotting
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" id="nav-5" type="checkbox"/>
<label class="md-nav__link" for="nav-5">
      Analyses
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="1">
<label class="md-nav__title" for="nav-5">
        Analyses
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../mfiles/template_analysis_spls/" title="Sparse PLS">
      Sparse PLS
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../mfiles/template_analysis_rcca/" title="Regularized CCA">
      Regularized CCA
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../mfiles/template_analysis_rerun/" title="Rerun Analysis">
      Rerun Analysis
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" id="nav-6" type="checkbox"/>
<label class="md-nav__link" for="nav-6">
      Plotting
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="1">
<label class="md-nav__title" for="nav-6">
        Plotting
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../mfiles/template_plot_vbm/" title="VBM">
      VBM
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../mfiles/template_plot_roi/" title="ROI">
      ROI
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../mfiles/template_plot_conn/" title="Connectivity">
      Connectivity
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" id="nav-7" type="checkbox"/>
<label class="md-nav__link" for="nav-7">
      Defaults
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="1">
<label class="md-nav__title" for="nav-7">
        Defaults
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../mfiles/cfg_defaults/" title="Cfg Defaults">
      Cfg Defaults
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../mfiles/res_defaults/" title="Res Defaults">
      Res Defaults
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" id="nav-8" type="checkbox"/>
<label class="md-nav__link" for="nav-8">
      Basic Plotting
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="1">
<label class="md-nav__title" for="nav-8">
        Basic Plotting
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../mfiles/plot_paropt/" title="plot_paropt">
      plot_paropt
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../mfiles/plot_proj/" title="plot_proj">
      plot_proj
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../mfiles/plot_weight/" title="plot_weight">
      plot_weight
    </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">Table of contents</label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#basic-analysis">
    Basic analysis
  </a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#project-folder">
    Project Folder
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#algorithm">
    Algorithm
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#environment">
    Environment
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#framework">
    Framework
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#deflation">
    Deflation
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#statistical-inference">
    Statistical Inference
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#run-analysis">
    Run Analysis
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#basic-plotting">
    Basic plotting
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content">
<article class="md-content__inner md-typeset"><a class="md-content__icon pdf-download-btn" download href="../../PLS-CCA-Toolkit-Documentation.pdf" title="Download"><i class="fa fas fa-download"></i><small> PDF</small></a>
<a class="md-icon md-content__icon" href="https://github.com/anaston/PLS_CCA_framework/edit/master/docs/example.md" title="Edit this page"></a>
<h1>Example</h1>
<p>In the following paragraph, we will go through a simple example, run an analysis and plot the results. We will be using Sparse Partial Least Squares (SPLS) in a multiple holdout framework. Our settings will be added to structures called <code>cfg</code> and <code>res</code> that will control the behaviour of the analysis and the results, respectively.</p>
<div class="admonition note">
<p class="admonition-title">Warning</p>
<p>We will provide some example data in the future that everyone can use in this example. Until that point, please make sure to have some data ready that you can use here. A more detailed description of how the data should look like will come shortly.</p>
</div>
<h2 id="basic-analysis">Basic analysis</h2>
<p>First, make sure to run <code>set_path</code> to add the necessary paths of the toolkit to your MATLAB path.</p>
<div class="codehilite"><pre><span></span><code><span class="n">set_path</span>
</code></pre></div>
<h3 id="project-folder">Project Folder</h3>
<p>Next, we specify the folder to our project. Make sure to specify the correct path. This folder will contain a <code>data</code> and a <code>framework</code> folder. Unless you run simulations, you should provide your data matrices (<code>X.mat</code>, <code>Y.mat</code>) in your data folder. In the following, we will assume that mat files and their content always has the same naming convention, i.e. <code>X</code> variable in <code>X.mat</code>. You can provide a data matrix for confounds (<code>C.mat</code>) which will be regressed out from both of your <code>X</code> and <code>Y</code> data. You can also provide a matrix (<code>EB.mat</code>) which defines the exchangeability block structure of your data and will be used for stratified partitioning of the data (i.e., inner/outer splits) and restricted permutations. For instance, you can use this to provide the genetic dependencies of your data (e.g. twins, family structure) or different cohorts (e.g. healthy vs. depressed sample). For details on how to create the <code>ÈB</code> matrix, see <a href="https://doi.org/10.1016/j.neuroimage.2015.05.092">Winkler et al 2015</a> and the <a href="https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/PALM">PALM toolbox</a>.</p>
<p>The <code>framework</code> folder will be automatically created by the toolkit in running time and will be filled up with all the results of your specific experiment. You can run different experiments on the same data, each having their own folder within <code>framework</code>, but we advise to create a new project folder once you change your data itself.</p>
<div class="codehilite"><pre><span></span><code><span class="n">cfg</span><span class="p">.</span><span class="n">dir</span><span class="p">.</span><span class="n">project</span> <span class="p">=</span> <span class="s">'/PATH/TO/YOUR/PROJECT/'</span><span class="p">;</span>
</code></pre></div>
<h3 id="algorithm">Algorithm</h3>
<p>Now, we configure the algorithm we would like to use. We set the <code>machine.name</code> parameter to 'rcca' for Regularized CCA (RCCA). To select the best regularization hyperparameter (i.e. L2 regularization in case of RCCA), we will use test correlation as criterion (measuring the generalizability of the RCCA models across the inner loop splits).</p>
<div class="codehilite"><pre><span></span><code><span class="c">% Machine settings</span>
<span class="n">cfg</span><span class="p">.</span><span class="n">machine</span><span class="p">.</span><span class="n">name</span> <span class="p">=</span> <span class="s">'rcca'</span><span class="p">;</span>
<span class="n">cfg</span><span class="p">.</span><span class="n">machine</span><span class="p">.</span><span class="n">param</span><span class="p">.</span><span class="n">crit</span> <span class="p">=</span> <span class="s">'correl'</span><span class="p">;</span>
</code></pre></div>
<p>For more information on the machines and the regularization parameter choices, see <a href="../mfiles/cfg_defaults/#machine">here</a> or the <a href="../">Home</a> page and consult the references there.</p>
<h3 id="environment">Environment</h3>
<p>Next, we set the computational environment for the toolkit. As RCCA is computationally efficient, often we can run it locally on our computer.</p>
<div class="codehilite"><pre><span></span><code><span class="c">% Environment settings</span>
<span class="n">cfg</span><span class="p">.</span><span class="n">env</span><span class="p">.</span><span class="n">comp</span> <span class="p">=</span> <span class="s">'local'</span><span class="p">;</span>
</code></pre></div>
<h3 id="framework">Framework</h3>
<p>Next, we set the framework to <code>holdout</code> to perform a multiple holdout approach. The <code>frwork.flag</code> parameter just defines a custom name for this analysis. Make sure to give it a name that will help you organize different analyses you might run on your data.</p>
<div class="codehilite"><pre><span></span><code><span class="c">% Framework settings</span>
<span class="n">cfg</span><span class="p">.</span><span class="n">frwork</span><span class="p">.</span><span class="n">name</span> <span class="p">=</span> <span class="s">'holdout'</span><span class="p">;</span>
<span class="n">cfg</span><span class="p">.</span><span class="n">frwork</span><span class="p">.</span><span class="n">flag</span> <span class="p">=</span> <span class="s">'_corr'</span><span class="p">;</span>
</code></pre></div>
<p>For further details on the framework choices, see <a href="../mfiles/cfg_defaults/#frwork">here</a>.</p>
<h3 id="deflation">Deflation</h3>
<p>As we are optimizing the L2 regularization parameter of the RCCA model for each associative effect separately, we will need to remove the significant effects already found in the data (called deflation) to be able to find new associative effects. In this example, we will use CCA-projection deflation on all outer splits of the data using the model weight of the best split. For the definition of <code>best</code>, the value of the field <code>cfg.defl.crit</code> is used as a metric, e.g. highest holdout correlation.</p>
<div class="codehilite"><pre><span></span><code><span class="c">% Deflation settings</span>
<span class="n">cfg</span><span class="p">.</span><span class="n">defl</span><span class="p">.</span><span class="n">name</span> <span class="p">=</span> <span class="s">'cca-projection'</span><span class="p">;</span>
<span class="n">cfg</span><span class="p">.</span><span class="n">defl</span><span class="p">.</span><span class="n">crit</span> <span class="p">=</span> <span class="s">'correl'</span><span class="p">;</span>
<span class="n">cfg</span><span class="p">.</span><span class="n">defl</span><span class="p">.</span><span class="n">split</span> <span class="p">=</span> <span class="s">'all'</span><span class="p">;</span>
</code></pre></div>
<p>For more information about the theory behind deflation, see <a href="../#introduction-to-iterative-solution-of-ccapls-models">here</a>, for more about the settings, see <a href="../mfiles/cfg_defaults/#defl">here</a>.</p>
<h3 id="statistical-inference">Statistical Inference</h3>
<p>Finally, we will need to define how the statistical significance test is performed. This can either be done separately for each split or combined across splits. In this example, we will do a so-called omnibus test based on the holdout correlations defined by <code>cfg.stat.split.crit</code>. For that, a permutation test is performed for each outer split and the p-values are Bonferroni corrected for multiple comparisons. Thus the null hypothesis states that none of the outer splits are significant, thus rejecting this hypothesis means that there is a significant effect in at least on of the outer splits.</p>
<div class="codehilite"><pre><span></span><code><span class="c">% Statistical inference</span>
<span class="n">cfg</span><span class="p">.</span><span class="n">stat</span><span class="p">.</span><span class="n">split</span><span class="p">.</span><span class="n">crit</span> <span class="p">=</span> <span class="s">'correl'</span><span class="p">;</span>
<span class="n">cfg</span><span class="p">.</span><span class="n">stat</span><span class="p">.</span><span class="n">overall</span><span class="p">.</span><span class="n">crit</span> <span class="p">=</span> <span class="s">'none'</span><span class="p">;</span>

<span class="c">% Number of permutation tests</span>
<span class="n">cfg</span><span class="p">.</span><span class="n">stat</span><span class="p">.</span><span class="n">nperm</span> <span class="p">=</span> <span class="mi">100</span><span class="p">;</span>
</code></pre></div>
<p>For further details on the statistical inference, see <a href="../mfiles/cfg_defaults/#stat">here</a>.</p>
<h3 id="run-analysis">Run Analysis</h3>
<p>To run the analysis, we simply update our <code>cfg</code> structure to add all necessary default values that we didn't explicitly define and then run the <code>main</code> function.</p>
<div class="codehilite"><pre><span></span><code><span class="c">% Update cfg with defaults</span>
<span class="n">cfg</span> <span class="p">=</span> <span class="n">cfg_defaults</span><span class="p">(</span><span class="n">cfg</span><span class="p">);</span>
<span class="n">main</span><span class="p">(</span><span class="n">cfg</span><span class="p">);</span>
</code></pre></div>
<h3 id="basic-plotting">Basic plotting</h3>
<p>Now that we've run our first analysis, let's plot some of the results. Most of the times, this is simply done by configuring plotting specific details in the <code>res</code> structure and then passing this structure as input to the <a href="../mfiles/plot_weight/">plot_weight</a> or <a href="../mfiles/plot_proj/">plot_proj</a> function with some additional parameters the define the plot type.</p>
<p>Before we can do any plotting, we need to make sure that we've called <code>set_path('plot')</code> to add the plotting folder.</p>
<div class="codehilite"><pre><span></span><code><span class="c">% Set path with plotting folder</span>
<span class="n">set_path</span><span class="p">(</span><span class="s">'plot'</span><span class="p">);</span>
</code></pre></div>
<p>Additionally, we will need to load the <code>res</code> structure, which includes some of the results and the paths to the specific results. In general, we advise you to plot your results on a local computer as it is often cumbersome and slow in a cluster environment. In this case <code>update_dir</code> should be called just before <code>res_defaults</code>. Whenever you call <code>res_defaults</code>, all necessary default values will be loaded  to the <code>res</code> structure.</p>
<div class="codehilite"><pre><span></span><code><span class="c">% Required fields</span>
<span class="n">res</span><span class="p">.</span><span class="n">dir</span><span class="p">.</span><span class="n">frwork</span> <span class="p">=</span> <span class="s">'/PATH/TO/YOUR/PROJECT/framework/ANALYSIS_NAME/'</span><span class="p">;</span>
<span class="n">res</span><span class="p">.</span><span class="n">frwork</span><span class="p">.</span><span class="n">level</span> <span class="p">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="n">res</span><span class="p">.</span><span class="n">env</span><span class="p">.</span><span class="n">fileend</span> <span class="p">=</span> <span class="s">'_1'</span><span class="p">;</span>

<span class="c">% Initialize res</span>
<span class="n">res</span> <span class="p">=</span> <span class="n">res_defaults</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="s">'load'</span><span class="p">);</span>
</code></pre></div>
<p>To plot the latent space that has been learnt by the model, simply run <code>plot_proj</code>. As first argument, we need to pass the <code>res</code> structure that holds all necessary information on where to find the results. Then, we can specify the data modalities as cell array that will be used for the plotting. The next parameter defines the associative effect ('level') that should be used for the plot. In this example, we plot the latent space (projections) of X and Y for the first associative effect. We set the fourth input parameter to 'osplit' so that the training and test data of the outer split will be used for the plot. The following parameter defines which split is used (in this case we use the first split). The second to last input parameter can be used to color code different groups of the data. Please see the documentation of <a href="../mfiles/plot_proj/">plot_proj</a> for more details. The last parameter defines the plot type. In this example, we will create a simple 2d plot.</p>
<div class="codehilite"><pre><span></span><code><span class="c">% Plot data projections</span>
<span class="n">plot_proj</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="p">{</span><span class="s">'X'</span> <span class="s">'Y'</span><span class="p">},</span> <span class="mi">1</span><span class="p">,</span> <span class="s">'osplit'</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s">'none'</span><span class="p">,</span> <span class="s">'2d'</span><span class="p">)</span>
</code></pre></div>
<p>Plotting weights will heavily depend on the kind of data that has been used in the analysis. For that reason, we only provide a very basic weight plot in this example that creates a stem plot.</p>
<div class="codehilite"><pre><span></span><code><span class="c">% Plot X weights as stem plot</span>
<span class="n">plot_weight</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="s">'Y'</span><span class="p">,</span> <span class="s">'simul'</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s">'stem'</span><span class="p">);</span>

<span class="c">% Plot Y weights as stem plot</span>
<span class="n">plot_weight</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="s">'X'</span><span class="p">,</span> <span class="s">'simul'</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s">'stem'</span><span class="p">);</span>
</code></pre></div>
<p>For further details on plotting weights, see <a href="../mfiles/plot_weight/">plot_weight</a> and the plotting templates.</p>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-nav">
<nav class="md-footer-nav__inner md-grid">
<a class="md-flex md-footer-nav__link md-footer-nav__link--prev" href="../getting_started/" rel="prev" title="Getting Started">
<div class="md-flex__cell md-flex__cell--shrink">
<i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
</div>
<div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
<span class="md-flex__ellipsis">
<span class="md-footer-nav__direction">
                  Previous
                </span>
                Getting Started
              </span>
</div>
</a>
<a class="md-flex md-footer-nav__link md-footer-nav__link--next" href="../mfiles/template_analysis_spls/" rel="next" title="Sparse PLS">
<div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
<span class="md-flex__ellipsis">
<span class="md-footer-nav__direction">
                  Next
                </span>
                Sparse PLS
              </span>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
</div>
</a>
</nav>
</div>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org" rel="noopener" target="_blank">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
          Material for MkDocs</a>
</div>
<div class="md-footer-social">
<link href="../assets/fonts/font-awesome.css" rel="stylesheet"/>
<a class="md-footer-social__link fa fa-twitter" href="https://twitter.com/MLNL_UCL" rel="noopener" target="_blank" title="twitter"></a>
</div>
</div>
</div>
</footer>
</div>
<script src="../assets/javascripts/application.c33a9706.js"></script>
<script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
</body>
</html>